{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/Documentos/Activities/projeto13-mywallet-front/src/components/Today.js\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState, useContext } from \"react\";\nimport styled from 'styled-components';\nimport dayjs from \"dayjs\";\nimport locale from \"dayjs/locale/pt-br\";\nimport axios from \"axios\";\nimport UserContext from \"../context/UserContext\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Today() {\n  _s();\n\n  const navigate = useNavigate();\n  const [habits, setHabits] = useState([]);\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n  const {\n    image,\n    token\n  } = user;\n  const now = dayjs().locale(\"pt-br\");\n\n  function loadHabits() {\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const promise = axios.get(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/today`, config);\n    promise.then(resposta => {\n      nDone = 0;\n\n      for (let i = 0; i < resposta.data.length; i++) {\n        if (resposta.data[i].done) {\n          nDone++;\n        }\n      }\n\n      setUser({\n        image: user.image,\n        token: user.token,\n        percentage: nDone / resposta.data.length * 100\n      });\n      setHabits(resposta.data);\n    });\n  }\n\n  let nDone = 0;\n  let txtcolor = \"#BABABA\";\n  let percent;\n  let txt = countDone();\n\n  function countDone() {\n    for (let i = 0; i < habits.length; i++) {\n      if (habits[i].done) {\n        nDone++;\n      }\n    }\n\n    if (nDone === 0) {\n      return \"Nenhum hábito concluído ainda\";\n    } else {\n      txtcolor = \"#8FC549\";\n      return `${(nDone / habits.length * 100).toFixed(0)}% dos hábitos concluídos`;\n    }\n  }\n\n  useEffect(() => {\n    loadHabits();\n  }, []);\n  const day = now.format(\"dddd\");\n  const Day = day.charAt(0).toUpperCase() + day.slice(1);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Header, {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Ol\\xE1, \", user.name, \";\", /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n          name: \"log-out-outline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)\n  }, void 0, false); // return(\n  //     <>\n  //     <Header/>\n  //     <Page>\n  //         <Container> <h1>{Day}, {now.format(\"DD/MM/YYYY\")} </h1> </Container>\n  //         <Container> <Text color={txtcolor}>{txt}</Text> </Container>\n  //         <Column>\n  //             {habits.map((habit) => (\n  //                 <TodayHabit loadHabits={loadHabits} habit={habit} token={token} key={habit.id}/>\n  //             ))}\n  //         </Column>\n  //     </Page>\n  //     <Footer percent={percent}/>\n  //     </>\n  // )\n}\n\n_s(Today, \"Nw+/fVSH7nVbnQgh259SzwjkOxY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Today;\nconst Column = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 95%;\n   \n    background: #E5E5E5;\n    margin-top: 20px;\n    margin-bottom: 35px;\n`;\nconst Text = styled.div`\n    font-family: 'Lexend Deca';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 17.976px;\n    line-height: 22px;\n    color: ${props => props.color};\n`;\nconst Page = styled.div`\n    margin-top:70px;\n    margin-bottom:70px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    height: calc(100vh - 140px);\n    overflow-x: scroll;\n    background: #E5E5E5;\n`;\nconst Container = styled.div`\n    display: flex;\n    align-items: center;\n    margin-top: 15px;\n    justify-content: space-between;\n    width: 90%;\n    font-family: 'Lexend Deca', sans-serif;\n    h1{\n        font-family: 'Lexend Deca';\n        font-style: normal;\n        font-weight: 400;\n        font-size: 22.976px;\n        line-height: 29px;\n        color: #126BA5;\n    }\n`;\n\nvar _c;\n\n$RefreshReg$(_c, \"Today\");","map":{"version":3,"names":["React","useEffect","useState","useContext","styled","dayjs","locale","axios","UserContext","Link","useNavigate","Today","navigate","habits","setHabits","user","setUser","image","token","now","loadHabits","config","headers","Authorization","promise","get","then","resposta","nDone","i","data","length","done","percentage","txtcolor","percent","txt","countDone","toFixed","day","format","Day","charAt","toUpperCase","slice","name","Column","div","Text","props","color","Page","Container"],"sources":["/home/guilherme/Documentos/Activities/projeto13-mywallet-front/src/components/Today.js"],"sourcesContent":["import {React,useEffect,useState,useContext} from \"react\";\nimport styled from 'styled-components';\nimport dayjs from \"dayjs\";\nimport locale from  \"dayjs/locale/pt-br\";\nimport axios from \"axios\";\nimport UserContext from \"../context/UserContext\";\nimport {Link, useNavigate} from \"react-router-dom\";\n\nexport default function Today(){\n  \n    const navigate=useNavigate();\n\n    const [habits,setHabits]=useState([]);\n    \n    const { user , setUser} = useContext(UserContext);\n    \n    const {image,token} = user;\n \n    const now = dayjs().locale(\"pt-br\");\n\n    function loadHabits(){\n        const config = {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n        };\n\n        const promise = axios.get(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/today`,config);\n    \n        promise.then(resposta => {\n            nDone=0;\n            for(let i=0;i<resposta.data.length;i++){\n                if(resposta.data[i].done){\n                    nDone++;\n                }\n            }\n            setUser(\n                {   \n                    image: user.image,\n                    token: user.token,\n                    percentage: (nDone/resposta.data.length)*100\n                },\n            );\n            setHabits(resposta.data);\n        });\n        \n    }\n    let nDone=0;\n    let txtcolor=\"#BABABA\";\n    let percent;\n    let txt=countDone();\n    \n    function countDone(){\n        \n        for(let i=0;i<habits.length;i++){\n            if(habits[i].done){\n                nDone++;\n            }\n        }\n        if(nDone===0){\n            return \"Nenhum hábito concluído ainda\";\n        }else{\n            txtcolor=\"#8FC549\";\n            return `${(nDone/habits.length*100).toFixed(0)}% dos hábitos concluídos`;\n        }\n    }\n\n   \n\n    useEffect(() => {\n        loadHabits();\n        \n    }, []);\n\n    const day = now.format(\"dddd\");\n    const Day = day.charAt(0).toUpperCase() + day.slice(1);\n\n    return(\n        <>\n            <Header>\n                <h1>\n                    Olá, {user.name};\n                    <ion-icon name=\"log-out-outline\"></ion-icon>\n                </h1>\n            </Header>\n        \n        </>\n    )\n\n\n\n    // return(\n    //     <>\n    //     <Header/>\n    //     <Page>\n    //         <Container> <h1>{Day}, {now.format(\"DD/MM/YYYY\")} </h1> </Container>\n    //         <Container> <Text color={txtcolor}>{txt}</Text> </Container>\n    //         <Column>\n    //             {habits.map((habit) => (\n    //                 <TodayHabit loadHabits={loadHabits} habit={habit} token={token} key={habit.id}/>\n    //             ))}\n    //         </Column>\n    //     </Page>\n    //     <Footer percent={percent}/>\n    //     </>\n    // )\n}\nconst Column=styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 95%;\n   \n    background: #E5E5E5;\n    margin-top: 20px;\n    margin-bottom: 35px;\n`\nconst Text=styled.div`\n    font-family: 'Lexend Deca';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 17.976px;\n    line-height: 22px;\n    color: ${props=>props.color};\n`\nconst Page=styled.div`\n    margin-top:70px;\n    margin-bottom:70px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    height: calc(100vh - 140px);\n    overflow-x: scroll;\n    background: #E5E5E5;\n`\nconst Container=styled.div`\n    display: flex;\n    align-items: center;\n    margin-top: 15px;\n    justify-content: space-between;\n    width: 90%;\n    font-family: 'Lexend Deca', sans-serif;\n    h1{\n        font-family: 'Lexend Deca';\n        font-style: normal;\n        font-weight: 400;\n        font-size: 22.976px;\n        line-height: 29px;\n        color: #126BA5;\n    }\n`\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}