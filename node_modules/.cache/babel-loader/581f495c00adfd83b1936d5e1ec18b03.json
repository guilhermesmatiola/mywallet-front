{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/Documentos/Activities/projeto13-mywallet-front/src/components/Today.js\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState, useContext } from \"react\";\nimport styled from 'styled-components';\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport dayjs from \"dayjs\";\nimport locale from \"dayjs/locale/pt-br\";\nimport axios from \"axios\";\nimport TodayHabit from \"./TodayHabit\";\nimport UserContext from \"../context/UserContext\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Today() {\n  _s();\n\n  const navigate = useNavigate();\n  const [habits, setHabits] = useState([]);\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n  const {\n    image,\n    token\n  } = user;\n  const now = dayjs().locale(\"pt-br\");\n\n  function loadHabits() {\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const promise = axios.get(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/today`, config);\n    promise.then(resposta => {\n      nDone = 0;\n\n      for (let i = 0; i < resposta.data.length; i++) {\n        if (resposta.data[i].done) {\n          nDone++;\n        }\n      }\n\n      setUser({\n        image: user.image,\n        token: user.token,\n        percentage: nDone / resposta.data.length * 100\n      });\n      setHabits(resposta.data);\n    });\n  }\n\n  let nDone = 0;\n  let txtcolor = \"#BABABA\";\n  let percent;\n  let txt = countDone();\n\n  function countDone() {\n    for (let i = 0; i < habits.length; i++) {\n      if (habits[i].done) {\n        nDone++;\n      }\n    }\n\n    if (nDone === 0) {\n      return \"Nenhum hábito concluído ainda\";\n    } else {\n      txtcolor = \"#8FC549\";\n      return `${(nDone / habits.length * 100).toFixed(0)}% dos hábitos concluídos`;\n    }\n  }\n\n  useEffect(() => {\n    loadHabits();\n  }, []);\n  const day = now.format(\"dddd\");\n  const Day = day.charAt(0).toUpperCase() + day.slice(1);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Page, {\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [Day, \", \", now.format(\"DD/MM/YYYY\"), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(Text, {\n          color: txtcolor,\n          children: txt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        children: habits.map(habit => /*#__PURE__*/_jsxDEV(TodayHabit, {\n          loadHabits: loadHabits,\n          habit: habit,\n          token: token\n        }, habit.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      percent: percent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Today, \"Nw+/fVSH7nVbnQgh259SzwjkOxY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Today;\nconst Column = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 95%;\n   \n    background: #E5E5E5;\n    margin-top: 20px;\n    margin-bottom: 35px;\n`;\n_c2 = Column;\nconst Text = styled.div`\n    font-family: 'Lexend Deca';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 17.976px;\n    line-height: 22px;\n    color: ${props => props.color};\n`;\n_c3 = Text;\nconst Page = styled.div`\n    margin-top:70px;\n    margin-bottom:70px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    height: calc(100vh - 140px);\n    overflow-x: scroll;\n    background: #E5E5E5;\n`;\n_c4 = Page;\nconst Container = styled.div`\n    display: flex;\n    align-items: center;\n    margin-top: 15px;\n    justify-content: space-between;\n    width: 90%;\n    font-family: 'Lexend Deca', sans-serif;\n    h1{\n        font-family: 'Lexend Deca';\n        font-style: normal;\n        font-weight: 400;\n        font-size: 22.976px;\n        line-height: 29px;\n        color: #126BA5;\n    }\n`;\n_c5 = Container;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Today\");\n$RefreshReg$(_c2, \"Column\");\n$RefreshReg$(_c3, \"Text\");\n$RefreshReg$(_c4, \"Page\");\n$RefreshReg$(_c5, \"Container\");","map":{"version":3,"names":["React","useEffect","useState","useContext","styled","Header","Footer","dayjs","locale","axios","TodayHabit","UserContext","Link","useNavigate","Today","navigate","habits","setHabits","user","setUser","image","token","now","loadHabits","config","headers","Authorization","promise","get","then","resposta","nDone","i","data","length","done","percentage","txtcolor","percent","txt","countDone","toFixed","day","format","Day","charAt","toUpperCase","slice","map","habit","id","Column","div","Text","props","color","Page","Container"],"sources":["/home/guilherme/Documentos/Activities/projeto13-mywallet-front/src/components/Today.js"],"sourcesContent":["import {React,useEffect,useState,useContext} from \"react\";\nimport styled from 'styled-components';\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport dayjs from \"dayjs\";\nimport locale from  \"dayjs/locale/pt-br\";\nimport axios from \"axios\";\nimport TodayHabit from \"./TodayHabit\";\nimport UserContext from \"../context/UserContext\";\nimport {Link, useNavigate} from \"react-router-dom\";\n\nexport default function Today(){\n  \n    const navigate=useNavigate();\n\n    const [habits,setHabits]=useState([]);\n    \n    const { user , setUser} = useContext(UserContext);\n    \n    const {image,token} = user;\n \n    const now = dayjs().locale(\"pt-br\");\n\n    function loadHabits(){\n        const config = {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n        };\n\n        const promise = axios.get(`https://mock-api.bootcamp.respondeai.com.br/api/v2/trackit/habits/today`,config);\n    \n        promise.then(resposta => {\n            nDone=0;\n            for(let i=0;i<resposta.data.length;i++){\n                if(resposta.data[i].done){\n                    nDone++;\n                }\n            }\n            setUser(\n                {   \n                    image: user.image,\n                    token: user.token,\n                    percentage: (nDone/resposta.data.length)*100\n                },\n            );\n            setHabits(resposta.data);\n        });\n        \n    }\n    let nDone=0;\n    let txtcolor=\"#BABABA\";\n    let percent;\n    let txt=countDone();\n    \n    function countDone(){\n        \n        for(let i=0;i<habits.length;i++){\n            if(habits[i].done){\n                nDone++;\n            }\n        }\n        if(nDone===0){\n            return \"Nenhum hábito concluído ainda\";\n        }else{\n            txtcolor=\"#8FC549\";\n            return `${(nDone/habits.length*100).toFixed(0)}% dos hábitos concluídos`;\n        }\n    }\n\n   \n\n    useEffect(() => {\n        loadHabits();\n        \n    }, []);\n\n    const day = now.format(\"dddd\");\n    const Day = day.charAt(0).toUpperCase() + day.slice(1);\n\n    \n\n\n    return(\n        <>\n        <Header/>\n        <Page>\n            <Container> <h1>{Day}, {now.format(\"DD/MM/YYYY\")} </h1> </Container>\n            <Container> <Text color={txtcolor}>{txt}</Text> </Container>\n            <Column>\n                {habits.map((habit) => (\n                    <TodayHabit loadHabits={loadHabits} habit={habit} token={token} key={habit.id}/>\n                ))}\n            </Column>\n        </Page>\n        <Footer percent={percent}/>\n        </>\n    )\n}\nconst Column=styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 95%;\n   \n    background: #E5E5E5;\n    margin-top: 20px;\n    margin-bottom: 35px;\n`\nconst Text=styled.div`\n    font-family: 'Lexend Deca';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 17.976px;\n    line-height: 22px;\n    color: ${props=>props.color};\n`\nconst Page=styled.div`\n    margin-top:70px;\n    margin-bottom:70px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    height: calc(100vh - 140px);\n    overflow-x: scroll;\n    background: #E5E5E5;\n`\nconst Container=styled.div`\n    display: flex;\n    align-items: center;\n    margin-top: 15px;\n    justify-content: space-between;\n    width: 90%;\n    font-family: 'Lexend Deca', sans-serif;\n    h1{\n        font-family: 'Lexend Deca';\n        font-style: normal;\n        font-weight: 400;\n        font-size: 22.976px;\n        line-height: 29px;\n        color: #126BA5;\n    }\n`\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}